* Finish todos
* Write some tests
* more sensible logging
